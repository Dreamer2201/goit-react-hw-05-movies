{"version":3,"file":"static/js/519.028065b9.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.jsx","components/MoviesList/MoviesTrendStyled.js","components/fetch.jsx","components/MoviesList/MoviesTrend.jsx","components/pages/Home/Home.jsx","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\n\nimport { TrendMovieList, TrendMovieListItem } from \"./MoviesTrendStyled\";\n\nexport default function MoviesList({ moviesItems }) {\n    \n    const elements = moviesItems.map(({ id, title, name }) => {\n        return ((<TrendMovieListItem key={id}>\n            <Link to={`/movies/${id}`}>\n                <p>{title ? title : name}</p>\n            </Link>\n    </TrendMovieListItem>\n    ))\n    }\n    );\n    return (<TrendMovieList>{elements}</TrendMovieList>);\n}\n\nMoviesList.propTypes = {\n    moviesItems: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            title: PropTypes.string,\n            name: PropTypes.string,\n        })\n    )\n}","import styled from 'styled-components';\n\nconst TitleTrendMovies = styled.h2`\n    font-size: 28px;                                                                        \n    color: #8B4513;\n    text-shadow: 1px 1px 2px #BC8F8F;\n    text-transform: uppercase;\n`;\nconst TrendMovieList = styled.ul`\n    margin: 0;\n`;\nconst TrendMovieListItem = styled.li`\n    padding: 0;\n    margin: 0;\n    line-height: 1;\n`;\n\nconst BtnLoadMoreMovies = styled.button`\n    background-color: #F4A460;\n    border-radius: 12px;\n    border: transparent;\n    color: #000;\n    cursor: pointer;\n    font-weight: bold;\n    padding: 10px 15px;\n    text-align: center;\n    transition: 200ms;\n    width: 150px;\n\n    &:hover,\n    &:focus {\n        outline: 0;\n        border-color: #808080;\n        background: #BC8F8F;\n        box-shadow: 0 0 0 2px rgba(0,0,0,.2), 0 3px 8px 0 rgba(0,0,0,.15);\n}`\nexport { TitleTrendMovies, BtnLoadMoreMovies, TrendMovieList, TrendMovieListItem };","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst myAPIkey = '489c503ccf1d5d4070a54da171b2b283';\n\nconst fetchRequest = async (page) => {\n    const response = await axios.get(`${BASE_URL}trending/all/day?api_key=${myAPIkey}&page=${page}`);\n    return response.data;\n}\n\nconst fetchOneMovie = async (id) => {\n    const response = await axios.get(`${BASE_URL}movie/${id}?api_key=${myAPIkey}&language=en-US`);\n    return response.data;\n\n}\n\nconst fetchMovieByName = async (searchName, currentPage) => {\n    const response = await axios.get(`${BASE_URL}search/movie?api_key=${myAPIkey}&language=en-US&page=1&include_adult=false&query=${searchName}&page=${currentPage}`);\n    return response.data;\n}\n\nconst fetchActorsMovie = async (id) => {\n    const response = await axios.get(`${BASE_URL}movie/${id}/credits?api_key=${myAPIkey}&language=en-US`);\n    return response.data;\n}\n\nconst fetchReviews = async (id) => {\n    const response = await axios.get(`${BASE_URL}movie/${id}/reviews?api_key=${myAPIkey}&language=en-US&page=1`);\n    return response.data;\n}\n\nexport { fetchRequest, fetchOneMovie, fetchMovieByName, fetchActorsMovie, fetchReviews };\n\n","import { useState, useEffect, useRef } from \"react\";\nimport { TitleTrendMovies, BtnLoadMoreMovies } from \"./MoviesTrendStyled\";\nimport { fetchRequest } from \"components/fetch\";\nimport MoviesList from \"components/MoviesList/MoviesList\";\nimport { ThreeDots } from 'react-loader-spinner';\n\nexport default function MoviesTrend() {\n    const [movies, setMovies] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [page, setPage] = useState(1);\n\n    const isRender = useRef(true);\n\n    useEffect(() => {\n        if (isRender.current) {\n            isRender.current = false;\n            return;\n        }\n\n        const fetchImages = async () => {\n            setLoading(true);\n            try {\n                const result = await fetchRequest(page);\n                const items = result.results;\n\n                setMovies(prevMovies => { \n                    if (page === 1) {\n                        return [...items];\n                    } else {\n                        const prevMovieId = prevMovies.map(({ id }) => id);\n                        const newMovieIds = items.map(({ id }) => id);\n                        const newArrId = newMovieIds.reduce((newArr, movieId) => {\n                            if (prevMovieId.includes(movieId)) {\n                                return newArr;\n                            } newArr.push(movieId);\n                            return newArr;\n                        }, []);\n\n                        const filteredNewMovies = items.reduce((newArrItems, item) => {\n                            if (newArrId.includes(item.id)) {\n                                newArrItems.push(item);\n                                return newArrItems;\n                            } return newArrItems;\n                        }, []);\n                       \n                        return [...prevMovies, ...filteredNewMovies];\n                    }\n                });\n                \n            } catch (error) {\n                setError(error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchImages(page);\n    }, [page, isRender]);\n\n    const loadMore = () => {\n        setPage(prev => prev + 1);\n    }\n\n    return (\n        <div>\n            <TitleTrendMovies>Trending today</TitleTrendMovies>\n            {loading ? <ThreeDots \n                                height=\"80\" \n                                width=\"80\" \n                                radius=\"9\"\n                                color=\"#4fa94d\" \n                                ariaLabel=\"three-dots-loading\"\n                                wrapperStyle={{}}\n                                wrapperClassName=\"\"\n                                visible={true}\n                                /> : <p></p>}\n            <MoviesList moviesItems={movies} />\n            {error && <p>Something went wrong. Try later, please.</p>}\n            {MoviesList && <BtnLoadMoreMovies type=\"button\" onClick={loadMore}>Load more...</BtnLoadMoreMovies>}\n        </div>\n    )\n}\n","import MoviesTrend from \"components/MoviesList/MoviesTrend\"\n\nexport default function Home() {\n    return (\n        <>\n            <MoviesTrend />\n        </>\n    )\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}"],"names":["MoviesList","elements","moviesItems","map","id","title","name","to","TitleTrendMovies","styled","TrendMovieList","TrendMovieListItem","BtnLoadMoreMovies","BASE_URL","myAPIkey","fetchRequest","page","axios","response","data","fetchOneMovie","fetchMovieByName","searchName","currentPage","fetchActorsMovie","fetchReviews","MoviesTrend","useState","movies","setMovies","loading","setLoading","error","setError","setPage","isRender","useRef","useEffect","current","fetchImages","result","items","results","prevMovies","prevMovieId","newArrId","reduce","newArr","movieId","includes","push","filteredNewMovies","newArrItems","item","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","type","onClick","prev","Home","_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value"],"sourceRoot":""}